<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Varela+Round">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="login-box">
        <div class="left">
          <h1 id='status'>sign up</h1>
          <input type="text" id="email" name="email" placeholder="E-mail" />
          <input type="password" id="password" name="password" placeholder="Password" />
          
          <input type="submit" id='signup' name="login" value="sign up" />
      
        </div>
        
        <div class="right">
            <h1 id='status'>login</h1>

          <input type="text" id="emaillogin" name="email" placeholder="E-mail" />
          <input type="password" id="passwordlogin" name="password" placeholder="Password" />
          
          <input type="submit" id='login' name="login" value="Login" />
        </div>
        <div class="or">OR</div>
      </div>
      <div id="index">
        <nav class="navbar navbar-expand-lg navbar-light bg-light ">
            <a href="#" class="navbar-brand">Resume<b>Builder</b></a>  	
            <button id = "btn-r">LOGGED IN</button>	
            
        </nav>
        <div class="vertical">
            <div class="b1 navbar-brand" id="fresher">
                <p><b>fresher</b></p>
                <div class="nav-item dropdown">
                    <a href="fresher.html"><button>create resume <br>for fresher</button></a>
                </div>
            </div>
            <div class="b1 navbar-brand" id="experienced">
                <p><b>experienced</b></p>
                <a href="experienced.html"><button>create resume <br> for experienced person</button></a>
            </div>
        </div>
      </div>
      
    <!-- <input type="email" name="" id="email"><br>
    <input type="password" name="" id="password"><br>
    <button id="signup">SIGN UP</button>
    <hr>
    <input type="email" name="" id="emaillogin"><br>
    <input type="password" name="" id="passwordlogin"><br>
    <button id="login">LOGIN</button>
    <hr> -->

    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword ,signInWithEmailAndPassword} from "https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        const firebaseConfig = {
          apiKey: "AIzaSyAAbE44IXeuWQQGqAnto2GCnRA61_A-mTU",
          authDomain: "resume-fa7d6.firebaseapp.com",
          projectId: "resume-fa7d6",
          storageBucket: "resume-fa7d6.appspot.com",
          messagingSenderId: "306259087516",
          appId: "1:306259087516:web:bf9bed91fef3fc57511d59"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        document.getElementById("signup").addEventListener("click",function(){
            const email = document.getElementById("email").value;
            const password = document.getElementById("password").value;
            createUserWithEmailAndPassword(auth, email, password)
            .then((userCredential) => {
                // Signed in 
                const user = userCredential.user;
                // ...
                alert("account creeated , now you can log in");
                document.getElementById("email").value="";
                document.getElementById("password").value="";

            })
            .catch((error) => {
                const errorCode = error.code;
                const errorMessage = error.message;
                // ..
                console.log(errorCode+errorMessage);
                alert("error !! please try again");
            });
        })

        document.getElementById("login").addEventListener("click",function(){
            const email = document.getElementById("emaillogin").value;
            const password = document.getElementById("passwordlogin").value;
            signInWithEmailAndPassword(auth, email, password)
            .then((userCredential) => {
                // Signed in 
                const user = userCredential.user;
                // ...
                alert("login successful")
                document.getElementById("index").style.display="block";
                document.getElementById("login-box").style.display="none";

            })
            .catch((error) => {
                const errorCode = error.code;
                const errorMessage = error.message;
                console.log(errorCode+errorMessage);
                alert("wrong credentials !! please try again ");
            });
        })

      </script>
</body>
</html>
